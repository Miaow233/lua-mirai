# 机器人 (Bot)

## 构造方式

#### 1.单脚本运行环境

##### 使用 Bot 方法构造[`Bot`](/docs/bot.md)对象，

##### 参数列表：

| 参数       | 类型    | 描述                                                     | 可空  |
| ---------- | ------- | -------------------------------------------------------- | ----- |
| account    | Integer | 账号                                                     | False |
| password   | String  | 密码                                                     | False |
| deviceInfo | String  | 设备信息路径，文件不存在则自动创建，不填则使用随机信息。 | True  |

##### 示例：

``` lua
local bot = Bot(qq 账号,"qq 密码","device.json")
bot.login() -- 登录
```

#### 2.多脚本运行环境

##### 通过 onLoad 函数获取，示例

``` lua
function onLoad(bot)
	print(bot.id)
end
```



## 属性

| 属性名 | 类型    | 描述           |
| ------ | ------- | -------------- |
| id     | Integer | 机器人的 qq 号码 |
| selfQQ     | [`Friend`](/docs/friend.md) | bot 自身的 Friend 对象 |
| isOnline     | Boolean | 是否在线 |

## 方法

### getFriend (获取好友)

#### 参数列表：

| 参数 | 类型    | 描述     |
| ---- | ------- | -------- |
| id   | Integer | 好友 qq 号 |

#### 返回值：

| 类型                                  | 描述             |
| ------------------------------------- | ---------------- |
| [`Friend`](/docs/friend.md) | 获取到的好友对象 |

### getFriends (获取好友列表) 耗时操作，慎用

#### 参数列表：无

#### 返回值：

| 类型                                  | 描述             |
| ------------------------------------- | ---------------- |
| Table of [`Friend`](/docs/friend.md) | 获取到的好友对象列表 |


### getGroup (获取群) 

#### 参数列表：

| 参数 | 类型    | 描述 |
| ---- | ------- | ---- |
| id   | Integer | 群号 |

#### 返回值：

| 类型                                | 描述           |
| ----------------------------------- | -------------- |
| [`Group`](/docs/group.md) | 获取到的群对象 |

### getGroups (获取群列表) 耗时操作，慎用

#### 参数列表：无

#### 返回值：

| 类型                                  | 描述             |
| ------------------------------------- | ---------------- |
| Table of [`Group`](/docs/group.md) | 获取到的群对象列表 |


### containsFriend (判断好友是否存在)

#### 参数列表：

| 参数 | 类型    | 描述     |
| ---- | ------- | -------- |
| id   | Integer | 好友 qq 号 |

#### 返回值：

| 类型    | 描述     |
| ------- | -------- |
| Boolean | 是否存在 |

### containsGroup (判断群是否存在)

#### 参数列表：

| 参数 | 类型    | 描述 |
| ---- | ------- | ---- |
| id   | Integer | 群号 |

#### 返回值：

| 类型    | 描述     |
| ------- | -------- |
| Boolean | 是否存在 |



### subscribe (订阅事件)

##### 详细用法见[`事件`](/docs/events.md)

#### 参数列表：

| 参数     | 类型     | 描述     |
| -------- | -------- | -------- |
| event    | String   | 事件标识 |
| callback | Function | 回调函数 |

### launch(立即启动一个线程)

#### 参数列表：

| 参数  | 类型     | 描述       |
| ----- | -------- | ---------- |
| block | Function | 线程主函数 |


### close (退出该 bot)

### 参数列表：

无